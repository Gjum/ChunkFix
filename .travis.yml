language: java
jdk:
- oraclejdk7
install:
- "./gradlew clean"
script:
- FORGE_VERSION=1.10.2-12.18.3.2254 ./gradlew reobf
- FORGE_VERSION=1.11.2-13.20.0.2260 ./gradlew reobf
branches:
  only:
  - master
before_cache:
- rm -f $HOME/.gradle/caches/modules-2/modules-2.lock
- rm -rf $HOME/.gradle/caches/*/fileHashes/
- rm -rf $HOME/.gradle/caches/minecraft/deobfedDeps/
cache:
  directories:
  - "$HOME/.gradle/caches/"
  - "$HOME/.gradle/wrapper/"
before_deploy:
- git config --global user.email "builds@travis-ci.com"
- git config --global user.name "Travis CI"
- git tag -m "Development Build ${TRAVIS_BUILD_NUMBER}" "dev-build-${TRAVIS_BUILD_NUMBER}"
- git push -q ${GITHUB_REPO} --tags
deploy:
  provider: releases
  skip_cleanup: true
  file: build/libs/*.jar
  file_glob: true
  prerelease: true
  on:
    tags: false
  api_key:
    secure: OM4l7iqbdtiUTAG8C4w0O1UlcN1uMqx7qftGYDdveBK4tOI0Xkna0cxFpKGO2ynq7HvWIZPaHZJ1Tw1s6Zi6ofSI3xOkgzBWmItaOO2/qO0d9spqq/RhHtqiTWfZqnNx1fTHd87PbVzJWEdppHbXt7Zo1fDt4FgPwLkv+QMQQHYVmz1ULRx7OxFzuy4Dvkw2KgHXRXLwu/lYaCMgyurzbc2/DVOE7lBgfEWR7XEt2kSlOUDtHDBtXuv+1uRb5YrbalmIbkh64/9WGEnO1vY4mTv/VE/cZk2LAPf9yThtx2mc+GQW8pRXHtvoCjEzvj9HW0c49S6NLvc2W0JiHkIp3QCPeE/fH8YD38JN7DwGpsGvGNsSeBXPLA6TqKRpoIXtthNnM7eY23fJPqXOyeQDl+ofu/d0NZVOeDSiKa6IhVD2PxUhIsej/YLWZgDqfZPI1sJCZzt8iwXJQ++L5rszJnEfUsgXp4vmNR9I1A2PWT+PeAFDrDPBlC47zLqr3VuZpQMOWD3WbWDdjFQjcgAfTgL5eAiTYVAaXz/eptXPoBxAxCNi8HNEdHE9SoMCTs6R5zFGSvj5L0aFj4VcD0mwJoBr5+qhTWC3IQfpAielSBUOTJbGhA6KCdZPZ6s9SZTiYiBL0fWSuYKtexo/TdzzsqVzx/WXMj6OSpy/+Dp6AQI=
